<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3DOPE — Заявка</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>

  <div class="nav-glass">
    <nav>
      <ul>
        <li><a href="index.html">Главная</a></li>
        <li><a href="services.html">Услуги</a></li>
        <li><a href="calculator.html">Калькулятор</a></li>
        <li><a href="filament.html">Филамент</a></li>
        <li><a href="advantages.html">Преимущества</a></li>
        <li><a href="faq.html">FAQ</a></li>
        <li><a href="process.html">Процесс</a></li>
        <li><a href="contacts.html">Заявка</a></li>
      </ul>
    </nav>
  </div>

  <section id="contacts">
    <div class="card">
      <h2>Оставить заявку</h2>
      <p>Опишите задачу, выберите тип запроса и прикрепите файлы</p>

      <div class="form-wrap">
        <form id="requestForm">
          <div class="form-grid">
            <div class="full">
              <label class="label" for="clientContact">Контакт (телефон / Telegram / email)</label>
              <input id="clientContact" type="text" placeholder="Например: +7... или @username" required>
            </div>

            <div class="full">
              <label class="label" for="taskDesc">Описание задачи</label>
              <textarea id="taskDesc" rows="5" placeholder="Что нужно сделать? Где используется деталь? Важно ли совпадение размеров?" required></textarea>
              <div class="hint">Чем точнее описание — тем быстрее мы дадим стоимость и срок.</div>
            </div>

            <div class="full">
              <label class="label">Тип запроса</label>
              <div class="choice-group" role="radiogroup" aria-label="Тип запроса">
                <label class="choice">
                  <input type="radio" name="requestType" value="modeling" checked>
                  <div><b>Моделирование</b><br><span>Сделаем 3D-модель</span></div>
                </label>
                <label class="choice">
                  <input type="radio" name="requestType" value="full">
                  <div><b>Полный цикл</b><br><span>Модель + печать</span></div>
                </label>
                <label class="choice">
                  <input type="radio" name="requestType" value="print">
                  <div><b>Печать</b><br><span>Уже есть модель</span></div>
                </label>
                <label class="choice">
                  <input type="radio" name="requestType" value="question">
                  <div><b>Вопрос</b><br><span>Нужна консультация</span></div>
                </label>
              </div>
            </div>

            <div class="full" id="filamentFormBlock">
              <label class="label" for="selectedFilamentName">Филамент (обязательно)</label>
              <input id="selectedFilamentName" type="text" placeholder="Нажмите «Выбрать филамент»" readonly>
              <input id="selectedFilamentId" type="hidden">
              <div class="hint" id="selectedFilamentHint">Не выбран.</div>
              <button type="button" class="btn" id="goPickFilamentBtn" style="margin-top:0.8rem;">Выбрать филамент</button>
            </div>

            <div class="full" id="materialsBlock">
              <label class="label" for="materialSelect">Материал</label>
              <select id="materialSelect">
                <option value="abs_red">Красный ABS</option>
                <option value="absplus_black">Черный ABS+</option>
              </select>
            </div>

            <div class="full" id="strengthBlock">
              <label class="choice" style="width:100%; justify-content:flex-start;">
                <input id="strengthNeed" type="checkbox">
                <div><b>Нужна повышенная прочность</b><br><span>Без наценки (пожелание к настройкам печати)</span></div>
              </label>
            </div>

            <div class="full" id="attachmentsImagesBlock">
              <label class="label" id="attachmentsHint" for="attachmentsImages">Прикрепите фото/скриншот чертежа/эскиза</label>
              <div class="file-box">
                <div class="file-row">
                  <input class="file-input" id="attachmentsImages" type="file" multiple accept="image/*,.pdf">
                  <div class="hint">Можно выбрать несколько файлов сразу.</div>
                  <div id="imagesList" class="files-list"></div>
                </div>
              </div>
            </div>

            <div class="full hidden" id="modelFileBlock">
              <label class="label" for="modelFile">Прикрепите 3D-файл (STL/STP/STEP)</label>
              <div class="file-box">
                <div class="file-row">
                  <input class="file-input" id="modelFile" type="file" accept=".stl,.stp,.step">
                  <div class="hint">Если файлов много — можно отправить архивом позже (в Telegram).</div>
                  <div id="modelList" class="files-list"></div>
                </div>
              </div>
            </div>

            <div class="full" style="text-align:center;">
              <button type="submit" class="btn">Отправить запрос</button>
            </div>
          </div>
        </form>

        <p style="margin-top: 1.5rem; opacity: 0.85; font-size: 0.95rem; text-align:center;">
          Мы свяжемся с Вами в самое ближайшее время. <strong>Пермь.</strong>
        </p>
      </div>
    </div>
  </section>

  <script src="assets/app.js"></script>
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</body>
</html>
